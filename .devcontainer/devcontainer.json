// For format details, see https://aka.ms/devcontainer.json.
{
  "name": "Faker",
  "image": "mcr.microsoft.com/devcontainers/base:ubuntu",
  "features": {
    // inotify-tools
    "ghcr.io/devcontainers/features/common-utils:2": {
      "configureZshAsDefaultShell": true
    },
    "ghcr.io/devcontainers/features/git:1": {},
    "ghcr.io/devcontainers/features/github-cli:1": {},
    "ghcr.io/devcontainers-contrib/features/elixir-asdf:2": {
      "elixirVersion": "1.17.2-otp-27",
      "erlangVersion": "27.0.1"
      // "elixirVersion": "1.16.3-otp-26",
      // "erlangVersion": "26.2.5.2"
    }
  },
  "postCreateCommand": {
    "apt-update": "sudo apt-get update",
    "inotify-tools": "sudo apt-get install --yes --no-install-recommends inotify-tools",
    "cleanup": "rm -rf deps _build",
    "dependencies": "mix do deps.get deps.compile"
  },
  "customizations": {
    "vscode": {
      "extensions": ["JakeBecker.elixir-ls", "esbenp.prettier-vscode"],
      "settings": {
        "[elixir]": {
          "editor.insertSpaces": true,
          "editor.tabSize": 2,
          "editor.formatOnType": true,
          "files.trimTrailingWhitespace": true,
          "files.insertFinalNewline": true,
          "files.trimFinalNewlines": true,
          "editor.formatOnSave": true,
          "editor.defaultFormatter": "JakeBecker.elixir-ls"
        },
        "[jsonc]": {
          "editor.quickSuggestions": {
            "strings": true
          },
          "editor.suggest.insertMode": "replace",
          "editor.formatOnSave": true,
          "editor.defaultFormatter": "esbenp.prettier-vscode"
        }
      }
    }
  }
}
